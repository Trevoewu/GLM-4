# 合规顾问RAG系统使用说明

## 系统概述

这是一个专业的合规顾问RAG（检索增强生成）系统，专门用于：
- 查询公司内部政策和外部法规
- 检查企业活动是否符合规定
- 识别潜在的不符合项并提供改进建议
- 提供详细的合规性评估报告

## 启动方法

### 1. 激活conda环境
```bash
conda activate glm4
```

### 2. 安装依赖
```bash
cd rag
pip install -r requirements.txt
```

### 3. 启动系统
```bash
streamlit run streamlit_chat_app.py
```

## 系统特点

### 🔤 智能检索
- 将合规问题转换为向量表示
- 在政策法规知识库中检索相关信息
- 支持中文语义理解

### 🔍 精准匹配
- 基于语义相似度找到最相关的政策法规条款
- 提供相似度分数和排名
- 可视化检索结果

### 📚 上下文分析
- 将检索到的法规条款组合成完整的合规分析上下文
- 展示相关文档的详细内容
- 支持多文档综合分析

### 🤖 专业回答
- 基于法规条款提供专业的合规建议
- 进行风险评估和合规性分析
- 识别潜在的不符合项

### 📈 参考来源
- 明确列出所有参考的政策法规来源
- 提供具体的文档名和章节号（如：深圳证券交易所创业板股票上市规则（2025年修订）.pdf 4.2.4）
- 支持追溯和验证
- 自动识别文档中的章节号、条款号或段落编号

## 使用示例

### 示例问题类型

1. **政策查询**
   - "上市公司信息披露有哪些要求？"
   - "独立董事的职责是什么？"
   - "内幕信息知情人登记管理制度是什么？"

2. **合规检查**
   - "我们公司的信息披露是否符合规定？"
   - "这个交易是否需要独立董事批准？"
   - "我们的内控措施是否完善？"

3. **风险评估**
   - "这个业务活动存在哪些合规风险？"
   - "如何改进我们的合规管理？"
   - "有哪些潜在的违规风险？"

## 系统配置

### 模型配置
- **嵌入模型**: shibing624/text2vec-base-chinese
- **LLM模型**: THUDM/GLM-4-9B-0414
- **向量存储**: FAISS

### 参数设置
- **检索文档数量**: 可调整（1-10个）
- **相似度阈值**: 自动计算
- **上下文长度**: 自动优化

## 注意事项

1. **数据准确性**: 系统仅基于提供的文本资料作答，确保知识库的准确性和时效性
2. **合规建议**: 系统提供的建议仅供参考，重要决策请咨询专业律师
3. **隐私保护**: 敏感信息请谨慎输入，系统会记录对话历史
4. **系统维护**: 定期更新知识库和模型，确保系统性能

## 技术支持

如遇到问题，请检查：
1. 环境配置是否正确
2. 依赖包是否完整安装
3. 向量存储是否正常加载
4. 网络连接是否正常

## 更新日志

- **v1.0**: 基础RAG系统
- **v1.1**: 集成合规顾问提示词
- **v1.2**: 优化检索过程和可视化 